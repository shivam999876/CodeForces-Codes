#include <bits/stdc++.h>using namespace std;#define int long long void solve() {    int n;    cin >> n;    int p[n], a[n];    for (int i = 0; i < n; i++) cin >> p[i];    for (int i = 0; i < n; i++) cin >> a[i];    vector <int> v;    set <int> s;    v.push_back (a[0]);    for (int i = 1; i < n; i++){        if (a[i] != a[i - 1]) v.push_back (a[i]);    }    for (auto &x: v){        if (s.find(x) == s.end()) s.insert (x);        else{            cout << "NO\n";            return;        }    }    int l = 0;    for (int i = 0; i < n; i++){        if (l < v.size() && p[i] == v[l]) l++;    }    if (l == v.size()) cout << "YES\n";    else cout << "NO\n";} signed main(void){        // freopen("input.txt", "r", stdin);    // freopen("output.txt", "w", stdout);        std::ios::sync_with_stdio(false);    cin.tie(0); cout.tie(0);        int t = 1;     cin >> t;    while (t--) solve();    return 0;    }